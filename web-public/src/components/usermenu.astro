data:application/octet-stream;base64,LS0tCi8qKgogKiBDb21wb25lbnRlOiBVc2VyTWVudQogKiBNdWVzdHJhIGVsIGF2YXRhciB5IG1lbsO6IGRlc3BsZWdhYmxlIGRlbCB1c3VhcmlvIGF1dGVudGljYWRvCiAqLwotLS0KCjxkaXYgaWQ9InVzZXItbWVudS1jb250YWluZXIiIGNsYXNzPSJoaWRkZW4iPgogIDxkaXYgY2xhc3M9InJlbGF0aXZlIj4KICAgIDxidXR0b24KICAgICAgaWQ9InVzZXItbWVudS1idG4iCiAgICAgIGNsYXNzPSJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBwLTIgcm91bmRlZC1mdWxsIGhvdmVyOmJnLXdoaXRlLzEwIHRyYW5zaXRpb24tY29sb3JzIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCIKICAgICAgYXJpYS1leHBhbmRlZD0iZmFsc2UiCiAgICAgIGFyaWEtaGFzcG9wdXA9InRydWUiCiAgICAgIGFyaWEtbGFiZWw9Ik1lbsO6IGRlIHVzdWFyaW8iCiAgICA+CiAgICAgIDxpbWcKICAgICAgICBpZD0idXNlci1hdmF0YXIiCiAgICAgICAgc3JjPSIiCiAgICAgICAgYWx0PSJBdmF0YXIgZGVsIHVzdWFyaW8iCiAgICAgICAgY2xhc3M9InctOCBoLTggcm91bmRlZC1mdWxsIG9iamVjdC1jb3ZlciBib3JkZXItMiBib3JkZXItd2hpdGUvMjAiCiAgICAgIC8+CiAgICAgIDxzcGFuIGlkPSJ1c2VyLW5hbWUiIGNsYXNzPSJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtd2hpdGUgaGlkZGVuIHNtOmJsb2NrIj48L3NwYW4+CiAgICAgIDxzdmcgCiAgICAgICAgY2xhc3M9InctNCBoLTQgdGV4dC1ncmF5LTQwMCBoaWRkZW4gc206YmxvY2siIAogICAgICAgIGZpbGw9Im5vbmUiIAogICAgICAgIHN0cm9rZT0iY3VycmVudENvbG9yIiAKICAgICAgICB2aWV3Qm94PSIwIDAgMjQgMjQiCiAgICAgICAgYXJpYS1oaWRkZW49InRydWUiCiAgICAgID4KICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMiIgZD0iTTE5IDlsLTcgNy03LTciIC8+CiAgICAgIDwvc3ZnPgogICAgPC9idXR0b24+CiAgICAKICAgIDwhLS0gTWVuw7ogZGVzcGxlZ2FibGUgLS0+CiAgICA8ZGl2CiAgICAgIGlkPSJ1c2VyLWRyb3Bkb3duIgogICAgICBjbGFzcz0iaGlkZGVuIGFic29sdXRlIHJpZ2h0LTAgbXQtMiB3LTQ4IGJnLXdoaXRlIHJvdW5kZWQtbGcgc2hhZG93LWxnIHB5LTEgei01MCB0cmFuc2Zvcm0gb3JpZ2luLXRvcC1yaWdodCB0cmFuc2l0aW9uLWFsbCIKICAgICAgcm9sZT0ibWVudSIKICAgICAgYXJpYS1vcmllbnRhdGlvbj0idmVydGljYWwiCiAgICAgIGFyaWEtbGFiZWxsZWRieT0idXNlci1tZW51LWJ0biIKICAgID4KICAgICAgPGRpdiBjbGFzcz0icHgtNCBweS0yIGJvcmRlci1iIGJvcmRlci1ncmF5LTEwMCI+CiAgICAgICAgPHAgaWQ9ImRyb3Bkb3duLWVtYWlsIiBjbGFzcz0idGV4dC1zbSB0ZXh0LWdyYXktOTAwIHRydW5jYXRlIj48L3A+CiAgICAgIDwvZGl2PgogICAgICAKICAgICAgPGEKICAgICAgICBocmVmPSIvZGFzaGJvYXJkIgogICAgICAgIGNsYXNzPSJibG9jayBweC00IHB5LTIgdGV4dC1zbSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktMTAwIHRyYW5zaXRpb24tY29sb3JzIgogICAgICAgIHJvbGU9Im1lbnVpdGVtIgogICAgICA+CiAgICAgICAgRGFzaGJvYXJkCiAgICAgIDwvYT4KICAgICAgCiAgICAgIDxhCiAgICAgICAgaHJlZj0iL2Rhc2hib2FyZC9zZXR0aW5ncyIKICAgICAgICBjbGFzcz0iYmxvY2sgcHgtNCBweS0yIHRleHQtc20gdGV4dC1ncmF5LTcwMCBob3ZlcjpiZy1ncmF5LTEwMCB0cmFuc2l0aW9uLWNvbG9ycyIKICAgICAgICByb2xlPSJtZW51aXRlbSIKICAgICAgPgogICAgICAgIENvbmZpZ3VyYWNpw7NuCiAgICAgIDwvYT4KICAgICAgCiAgICAgIDxkaXYgY2xhc3M9ImJvcmRlci10IGJvcmRlci1ncmF5LTEwMCBtdC0xIj48L2Rpdj4KICAgICAgCiAgICAgIDxidXR0b24KICAgICAgICBpZD0ibG9nb3V0LWJ0biIKICAgICAgICBjbGFzcz0idy1mdWxsIHRleHQtbGVmdCBweC00IHB5LTIgdGV4dC1zbSB0ZXh0LXJlZC02MDAgaG92ZXI6YmctcmVkLTUwIHRyYW5zaXRpb24tY29sb3JzIgogICAgICAgIHJvbGU9Im1lbnVpdGVtIgogICAgICA+CiAgICAgICAgQ2VycmFyIHNlc2nDs24KICAgICAgPC9idXR0b24+CiAgICA8L2Rpdj4KICA8L2Rpdj4KPC9kaXY+Cgo8c2NyaXB0PgogIGltcG9ydCB7ICRhdXRoLCBsb2dvdXQgfSBmcm9tICcuLi9zdG9yZXMvYXV0aCc7CgogIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7CiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlci1tZW51LWNvbnRhaW5lcicpOwogICAgY29uc3QgbWVudUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyLW1lbnUtYnRuJyk7CiAgICBjb25zdCBkcm9wZG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1c2VyLWRyb3Bkb3duJyk7CiAgICBjb25zdCBhdmF0YXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlci1hdmF0YXInKSBhcyBIVE1MSW1hZ2VFbGVtZW50OwogICAgY29uc3QgdXNlck5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXNlci1uYW1lJyk7CiAgICBjb25zdCBkcm9wZG93bkVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Ryb3Bkb3duLWVtYWlsJyk7CiAgICBjb25zdCBsb2dvdXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9nb3V0LWJ0bicpOwogICAgCiAgICBpZiAoIWNvbnRhaW5lciB8fCAhbWVudUJ0biB8fCAhZHJvcGRvd24gfHwgIWF2YXRhciB8fCAhdXNlck5hbWUgfHwgIWRyb3Bkb3duRW1haWwgfHwgIWxvZ291dEJ0bikgewogICAgICByZXR1cm47CiAgICB9CiAgICAKICAgIC8vIFN1c2NyaWJpcnNlIGEgY2FtYmlvcyBlbiBlbCBzdG9yZQogICAgJGF1dGguc3Vic2NyaWJlKChzdGF0ZSkgPT4gewogICAgICBpZiAoc3RhdGUuaXNBdXRoZW50aWNhdGVkICYmIHN0YXRlLnVzZXIpIHsKICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgYXZhdGFyLnNyYyA9IHN0YXRlLnVzZXIucGljdHVyZSB8fCAnL2RlZmF1bHQtYXZhdGFyLnBuZyc7CiAgICAgICAgYXZhdGFyLmFsdCA9IGBBdmF0YXIgZGUgJHtzdGF0ZS51c2VyLm5hbWUgfHwgc3RhdGUudXNlci5lbWFpbH1gOwogICAgICAgIHVzZXJOYW1lLnRleHRDb250ZW50ID0gc3RhdGUudXNlci5uYW1lIHx8IHN0YXRlLnVzZXIuZW1haWwuc3BsaXQoJ0AnKVswXTsKICAgICAgICBkcm9wZG93bkVtYWlsLnRleHRDb250ZW50ID0gc3RhdGUudXNlci5lbWFpbDsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgIH0KICAgIH0pOwogICAgCiAgICAvLyBUb2dnbGUgZGVsIG1lbsO6IGRlc3BsZWdhYmxlCiAgICBtZW51QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsKICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgY29uc3QgaXNFeHBhbmRlZCA9IG1lbnVCdG4uZ2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJykgPT09ICd0cnVlJzsKICAgICAgbWVudUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCBTdHJpbmcoIWlzRXhwYW5kZWQpKTsKICAgICAgZHJvcGRvd24uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7CiAgICB9KTsKICAgIAogICAgLy8gQ2VycmFyIGFsIGhhY2VyIGNsaWNrIGZ1ZXJhCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7CiAgICAgIGlmICghbWVudUJ0bi5jb250YWlucyhlLnRhcmdldCBhcyBOb2RlKSAmJiAhZHJvcGRvd24uY29udGFpbnMoZS50YXJnZXQgYXMgTm9kZSkpIHsKICAgICAgICBtZW51QnRuLnNldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcsICdmYWxzZScpOwogICAgICAgIGRyb3Bkb3duLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICB9CiAgICB9KTsKICAgIAogICAgLy8gQ2VycmFyIGNvbiBFc2NhcGUKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gewogICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7CiAgICAgICAgbWVudUJ0bi5zZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTsKICAgICAgICBkcm9wZG93bi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgfQogICAgfSk7CiAgICAKICAgIC8vIExvZ291dAogICAgbG9nb3V0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICBsb2dvdXQoKTsKICAgIH0pOwogIH0pOwo8L3NjcmlwdD4K